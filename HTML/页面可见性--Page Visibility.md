## 页面可见性

* 依次打开多个标签页，标签页可以来回切换，但始终只有一个页面在眼前，其他标签页是隐藏的
* 把浏览器最小化，所有的标签页都不可见

## API

页面可见API定义了两个属性和一个事件

属性：
1、document.hidden: 返回布尔值，true为页面可见，false为页面隐藏
2、document.visibilityState: 表示页面所处的状态，取值可能有四个
  ---visible：页面内容至少部分可见，即非最小化窗口的可见标签页
  ---hidden: 页面内容不可见，意味着该标签页是后台标签页或者最小化，或者系统锁屏
  ---prerender： 网页内容被与渲染且用户不可见
  ---unloaded： 如果文档被卸载，返回这个值

visibilitychange监听事件
可以在document上监听visibilitychange事件，根据document.hidden和document.visibilityState属性做一些业务逻辑

## 用途

* 对定时刷新内容的页面进行控制，当页面不可见时不刷新
* 根据页面的是否可见来选择暂停或播放视频音频等
* 根据页面的可见性更精确的计算用户在该网站上的停留时间
* 可以实现登录同步，原理就是在页面可见时首先判断是否存在登录token，若存在，则重新请求登录状态
